import { CartActions } from '../actions/index';
export const activeCartInitialState = null;
export const activeCartDefaultState = '';
export const wishListInitialState = '';
export function activeCartReducer(state = activeCartDefaultState, action) {
    var _a, _b, _c;
    switch (action.type) {
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        // point to `temp-${uuid}` cart when we are creating/merging cart
        case CartActions.CREATE_CART:
            if ((_b = (_a = action === null || action === void 0 ? void 0 : action.payload) === null || _a === void 0 ? void 0 : _a.extraData) === null || _b === void 0 ? void 0 : _b.active) {
                return action.meta.entityId;
            }
            else {
                return state;
            }
        case CartActions.SET_ACTIVE_CART_ID:
            return action.payload;
        case CartActions.REMOVE_CART:
        case CartActions.DELETE_CART_SUCCESS:
            if (((_c = action.payload) === null || _c === void 0 ? void 0 : _c.cartId) === state) {
                return activeCartDefaultState;
            }
            return state;
        case CartActions.CLEAR_CART_STATE:
            return state === activeCartInitialState
                ? activeCartInitialState
                : activeCartDefaultState;
    }
    return state;
}
export const cartEntitiesInitialState = undefined;
export function cartEntitiesReducer(state = cartEntitiesInitialState, action) {
    switch (action.type) {
        case CartActions.LOAD_CART_SUCCESS:
        case CartActions.CREATE_CART_SUCCESS:
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
        case CartActions.SET_TEMP_CART:
            return action.payload.cart;
    }
    return state;
}
export function wishListReducer(state = wishListInitialState, action) {
    switch (action.type) {
        case CartActions.CREATE_WISH_LIST_SUCCESS:
        case CartActions.LOAD_WISH_LIST_SUCCESS:
            return action.meta.entityId;
        case CartActions.CLEAR_CART_STATE:
            return wishListInitialState;
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktY2FydC5yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29yZS9zcmMvY2FydC9zdG9yZS9yZWR1Y2Vycy9tdWx0aS1jYXJ0LnJlZHVjZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRS9DLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLElBQUksQ0FBQztBQUMzQyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBRXZDLE1BQU0sVUFBVSxpQkFBaUIsQ0FDL0IsS0FBSyxHQUFHLHNCQUFzQixFQUM5QixNQUE2RDs7SUFFN0QsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssV0FBVyxDQUFDLGlCQUFpQixDQUFDO1FBQ25DLEtBQUssV0FBVyxDQUFDLG1CQUFtQixDQUFDO1FBQ3JDLGlFQUFpRTtRQUNqRSxLQUFLLFdBQVcsQ0FBQyxXQUFXO1lBQzFCLGdCQUFJLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxPQUFPLDBDQUFFLFNBQVMsMENBQUUsTUFBTSxFQUFFO2dCQUN0QyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBa0IsQ0FBQzthQUN2QztpQkFBTTtnQkFDTCxPQUFPLEtBQUssQ0FBQzthQUNkO1FBQ0gsS0FBSyxXQUFXLENBQUMsa0JBQWtCO1lBQ2pDLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUN4QixLQUFLLFdBQVcsQ0FBQyxXQUFXLENBQUM7UUFDN0IsS0FBSyxXQUFXLENBQUMsbUJBQW1CO1lBQ2xDLElBQUksT0FBQSxNQUFNLENBQUMsT0FBTywwQ0FBRSxNQUFNLE1BQUssS0FBSyxFQUFFO2dCQUNwQyxPQUFPLHNCQUFzQixDQUFDO2FBQy9CO1lBQ0QsT0FBTyxLQUFLLENBQUM7UUFDZixLQUFLLFdBQVcsQ0FBQyxnQkFBZ0I7WUFDL0IsT0FBTyxLQUFLLEtBQUssc0JBQXNCO2dCQUNyQyxDQUFDLENBQUMsc0JBQXNCO2dCQUN4QixDQUFDLENBQUMsc0JBQXNCLENBQUM7S0FDOUI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFFbEQsTUFBTSxVQUFVLG1CQUFtQixDQUNqQyxLQUFLLEdBQUcsd0JBQXdCLEVBQ2hDLE1BQW9CO0lBRXBCLFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztRQUNuQyxLQUFLLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztRQUNyQyxLQUFLLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztRQUMxQyxLQUFLLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQztRQUN4QyxLQUFLLFdBQVcsQ0FBQyxhQUFhO1lBQzVCLE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7S0FDOUI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLFVBQVUsZUFBZSxDQUM3QixLQUFLLEdBQUcsb0JBQW9CLEVBQzVCLE1BQWdFO0lBRWhFLFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztRQUMxQyxLQUFLLFdBQVcsQ0FBQyxzQkFBc0I7WUFDckMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQWtCLENBQUM7UUFDeEMsS0FBSyxXQUFXLENBQUMsZ0JBQWdCO1lBQy9CLE9BQU8sb0JBQW9CLENBQUM7S0FDL0I7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXJ0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY2FydC5tb2RlbCc7XG5pbXBvcnQgeyBMb2FkZXJBY3Rpb24gfSBmcm9tICcuLi8uLi8uLi9zdGF0ZS91dGlscy9sb2FkZXIvbG9hZGVyLmFjdGlvbic7XG5pbXBvcnQgeyBDYXJ0QWN0aW9ucyB9IGZyb20gJy4uL2FjdGlvbnMvaW5kZXgnO1xuXG5leHBvcnQgY29uc3QgYWN0aXZlQ2FydEluaXRpYWxTdGF0ZSA9IG51bGw7XG5leHBvcnQgY29uc3QgYWN0aXZlQ2FydERlZmF1bHRTdGF0ZSA9ICcnO1xuZXhwb3J0IGNvbnN0IHdpc2hMaXN0SW5pdGlhbFN0YXRlID0gJyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3RpdmVDYXJ0UmVkdWNlcihcbiAgc3RhdGUgPSBhY3RpdmVDYXJ0RGVmYXVsdFN0YXRlLFxuICBhY3Rpb246IENhcnRBY3Rpb25zLkNhcnRBY3Rpb24gfCBDYXJ0QWN0aW9ucy5NdWx0aUNhcnRBY3Rpb25zXG4pOiBzdHJpbmcge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX0NBUlRfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUX1NVQ0NFU1M6XG4gICAgLy8gcG9pbnQgdG8gYHRlbXAtJHt1dWlkfWAgY2FydCB3aGVuIHdlIGFyZSBjcmVhdGluZy9tZXJnaW5nIGNhcnRcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUOlxuICAgICAgaWYgKGFjdGlvbj8ucGF5bG9hZD8uZXh0cmFEYXRhPy5hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5tZXRhLmVudGl0eUlkIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cbiAgICBjYXNlIENhcnRBY3Rpb25zLlNFVF9BQ1RJVkVfQ0FSVF9JRDpcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZDtcbiAgICBjYXNlIENhcnRBY3Rpb25zLlJFTU9WRV9DQVJUOlxuICAgIGNhc2UgQ2FydEFjdGlvbnMuREVMRVRFX0NBUlRfU1VDQ0VTUzpcbiAgICAgIGlmIChhY3Rpb24ucGF5bG9hZD8uY2FydElkID09PSBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gYWN0aXZlQ2FydERlZmF1bHRTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNMRUFSX0NBUlRfU1RBVEU6XG4gICAgICByZXR1cm4gc3RhdGUgPT09IGFjdGl2ZUNhcnRJbml0aWFsU3RhdGVcbiAgICAgICAgPyBhY3RpdmVDYXJ0SW5pdGlhbFN0YXRlXG4gICAgICAgIDogYWN0aXZlQ2FydERlZmF1bHRTdGF0ZTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBjb25zdCBjYXJ0RW50aXRpZXNJbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXJ0RW50aXRpZXNSZWR1Y2VyKFxuICBzdGF0ZSA9IGNhcnRFbnRpdGllc0luaXRpYWxTdGF0ZSxcbiAgYWN0aW9uOiBMb2FkZXJBY3Rpb25cbik6IENhcnQge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX0NBUlRfU1VDQ0VTUzpcbiAgICBjYXNlIENhcnRBY3Rpb25zLkNSRUFURV9DQVJUX1NVQ0NFU1M6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DUkVBVEVfV0lTSF9MSVNUX1NVQ0NFU1M6XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5MT0FEX1dJU0hfTElTVF9TVUNDRVNTOlxuICAgIGNhc2UgQ2FydEFjdGlvbnMuU0VUX1RFTVBfQ0FSVDpcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZC5jYXJ0O1xuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdpc2hMaXN0UmVkdWNlcihcbiAgc3RhdGUgPSB3aXNoTGlzdEluaXRpYWxTdGF0ZSxcbiAgYWN0aW9uOiBDYXJ0QWN0aW9ucy5XaXNoTGlzdEFjdGlvbnMgfCBDYXJ0QWN0aW9ucy5DbGVhckNhcnRTdGF0ZVxuKTogc3RyaW5nIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQ2FydEFjdGlvbnMuQ1JFQVRFX1dJU0hfTElTVF9TVUNDRVNTOlxuICAgIGNhc2UgQ2FydEFjdGlvbnMuTE9BRF9XSVNIX0xJU1RfU1VDQ0VTUzpcbiAgICAgIHJldHVybiBhY3Rpb24ubWV0YS5lbnRpdHlJZCBhcyBzdHJpbmc7XG4gICAgY2FzZSBDYXJ0QWN0aW9ucy5DTEVBUl9DQVJUX1NUQVRFOlxuICAgICAgcmV0dXJuIHdpc2hMaXN0SW5pdGlhbFN0YXRlO1xuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cbiJdfQ==