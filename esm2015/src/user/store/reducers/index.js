import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions } from '../../../auth/store/actions/index';
import { loaderReducer } from '../../../state/utils/loader/loader.reducer';
import { REGIONS, USER_ADDRESSES, USER_CONSENTS, USER_ORDERS, USER_PAYMENT_METHODS, CUSTOMER_COUPONS, NOTIFICATION_PREFERENCES, PRODUCT_INTERESTS, USER_RETURN_REQUESTS, USER_ORDER_DETAILS, USER_RETURN_REQUEST_DETAILS, USER_COST_CENTERS, } from '../user-state';
import * as fromBillingCountriesReducer from './billing-countries.reducer';
import * as fromConsignmentTrackingReducer from './consignment-tracking.reducer';
import * as fromDeliveryCountries from './delivery-countries.reducer';
import * as fromNotificationPreferenceReducer from './notification-preference.reducer';
import * as fromOrderDetailsReducer from './order-details.reducer';
import * as fromPaymentReducer from './payment-methods.reducer';
import * as fromRegionsReducer from './regions.reducer';
import * as fromResetPasswordReducer from './reset-password.reducer';
import * as fromTitlesReducer from './titles.reducer';
import * as fromAddressesReducer from './user-addresses.reducer';
import * as fromUserConsentsReducer from './user-consents.reducer';
import * as fromUserDetailsReducer from './user-details.reducer';
import * as fromUserOrdersReducer from './user-orders.reducer';
import * as fromCustomerCouponReducer from './customer-coupon.reducer';
import * as fromInterestsReducer from './product-interests.reducer';
import * as fromOrderReturnRequestReducer from './order-return-request.reducer';
import * as fromCostCenterReducer from './user-cost-center.reducer';
export function getReducers() {
    return {
        account: combineReducers({
            details: fromUserDetailsReducer.reducer,
        }),
        addresses: loaderReducer(USER_ADDRESSES, fromAddressesReducer.reducer),
        billingCountries: fromBillingCountriesReducer.reducer,
        consents: loaderReducer(USER_CONSENTS, fromUserConsentsReducer.reducer),
        payments: loaderReducer(USER_PAYMENT_METHODS, fromPaymentReducer.reducer),
        orders: loaderReducer(USER_ORDERS, fromUserOrdersReducer.reducer),
        order: loaderReducer(USER_ORDER_DETAILS, fromOrderDetailsReducer.reducer),
        orderReturn: loaderReducer(USER_RETURN_REQUEST_DETAILS),
        orderReturnList: loaderReducer(USER_RETURN_REQUESTS, fromOrderReturnRequestReducer.reducer),
        countries: fromDeliveryCountries.reducer,
        titles: fromTitlesReducer.reducer,
        regions: loaderReducer(REGIONS, fromRegionsReducer.reducer),
        resetPassword: fromResetPasswordReducer.reducer,
        consignmentTracking: fromConsignmentTrackingReducer.reducer,
        customerCoupons: loaderReducer(CUSTOMER_COUPONS, fromCustomerCouponReducer.reducer),
        notificationPreferences: loaderReducer(NOTIFICATION_PREFERENCES, fromNotificationPreferenceReducer.reducer),
        productInterests: loaderReducer(PRODUCT_INTERESTS, fromInterestsReducer.reducer),
        costCenters: loaderReducer(USER_COST_CENTERS, fromCostCenterReducer.reducer),
    };
}
export const reducerToken = new InjectionToken('UserReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearUserState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearUserState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL2NvcmUvIiwic291cmNlcyI6WyJzcmMvdXNlci9zdG9yZS9yZWR1Y2Vycy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBQ3pELE9BQU8sRUFHTCxlQUFlLEdBRWhCLE1BQU0sYUFBYSxDQUFDO0FBQ3JCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQWNoRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDM0UsT0FBTyxFQUNMLE9BQU8sRUFHUCxjQUFjLEVBQ2QsYUFBYSxFQUNiLFdBQVcsRUFDWCxvQkFBb0IsRUFDcEIsZ0JBQWdCLEVBQ2hCLHdCQUF3QixFQUN4QixpQkFBaUIsRUFDakIsb0JBQW9CLEVBQ3BCLGtCQUFrQixFQUNsQiwyQkFBMkIsRUFDM0IsaUJBQWlCLEdBQ2xCLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sS0FBSywyQkFBMkIsTUFBTSw2QkFBNkIsQ0FBQztBQUMzRSxPQUFPLEtBQUssOEJBQThCLE1BQU0sZ0NBQWdDLENBQUM7QUFDakYsT0FBTyxLQUFLLHFCQUFxQixNQUFNLDhCQUE4QixDQUFDO0FBQ3RFLE9BQU8sS0FBSyxpQ0FBaUMsTUFBTSxtQ0FBbUMsQ0FBQztBQUN2RixPQUFPLEtBQUssdUJBQXVCLE1BQU0seUJBQXlCLENBQUM7QUFDbkUsT0FBTyxLQUFLLGtCQUFrQixNQUFNLDJCQUEyQixDQUFDO0FBQ2hFLE9BQU8sS0FBSyxrQkFBa0IsTUFBTSxtQkFBbUIsQ0FBQztBQUN4RCxPQUFPLEtBQUssd0JBQXdCLE1BQU0sMEJBQTBCLENBQUM7QUFDckUsT0FBTyxLQUFLLGlCQUFpQixNQUFNLGtCQUFrQixDQUFDO0FBQ3RELE9BQU8sS0FBSyxvQkFBb0IsTUFBTSwwQkFBMEIsQ0FBQztBQUNqRSxPQUFPLEtBQUssdUJBQXVCLE1BQU0seUJBQXlCLENBQUM7QUFDbkUsT0FBTyxLQUFLLHNCQUFzQixNQUFNLHdCQUF3QixDQUFDO0FBQ2pFLE9BQU8sS0FBSyxxQkFBcUIsTUFBTSx1QkFBdUIsQ0FBQztBQUMvRCxPQUFPLEtBQUsseUJBQXlCLE1BQU0sMkJBQTJCLENBQUM7QUFDdkUsT0FBTyxLQUFLLG9CQUFvQixNQUFNLDZCQUE2QixDQUFDO0FBQ3BFLE9BQU8sS0FBSyw2QkFBNkIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRixPQUFPLEtBQUsscUJBQXFCLE1BQU0sNEJBQTRCLENBQUM7QUFFcEUsTUFBTSxVQUFVLFdBQVc7SUFDekIsT0FBTztRQUNMLE9BQU8sRUFBRSxlQUFlLENBQUM7WUFDdkIsT0FBTyxFQUFFLHNCQUFzQixDQUFDLE9BQU87U0FDeEMsQ0FBQztRQUNGLFNBQVMsRUFBRSxhQUFhLENBQ3RCLGNBQWMsRUFDZCxvQkFBb0IsQ0FBQyxPQUFPLENBQzdCO1FBQ0QsZ0JBQWdCLEVBQUUsMkJBQTJCLENBQUMsT0FBTztRQUNyRCxRQUFRLEVBQUUsYUFBYSxDQUNyQixhQUFhLEVBQ2IsdUJBQXVCLENBQUMsT0FBTyxDQUNoQztRQUNELFFBQVEsRUFBRSxhQUFhLENBQ3JCLG9CQUFvQixFQUNwQixrQkFBa0IsQ0FBQyxPQUFPLENBQzNCO1FBQ0QsTUFBTSxFQUFFLGFBQWEsQ0FDbkIsV0FBVyxFQUNYLHFCQUFxQixDQUFDLE9BQU8sQ0FDOUI7UUFDRCxLQUFLLEVBQUUsYUFBYSxDQUNsQixrQkFBa0IsRUFDbEIsdUJBQXVCLENBQUMsT0FBTyxDQUNoQztRQUNELFdBQVcsRUFBRSxhQUFhLENBQWdCLDJCQUEyQixDQUFDO1FBQ3RFLGVBQWUsRUFBRSxhQUFhLENBQzVCLG9CQUFvQixFQUNwQiw2QkFBNkIsQ0FBQyxPQUFPLENBQ3RDO1FBQ0QsU0FBUyxFQUFFLHFCQUFxQixDQUFDLE9BQU87UUFDeEMsTUFBTSxFQUFFLGlCQUFpQixDQUFDLE9BQU87UUFDakMsT0FBTyxFQUFFLGFBQWEsQ0FBZSxPQUFPLEVBQUUsa0JBQWtCLENBQUMsT0FBTyxDQUFDO1FBQ3pFLGFBQWEsRUFBRSx3QkFBd0IsQ0FBQyxPQUFPO1FBQy9DLG1CQUFtQixFQUFFLDhCQUE4QixDQUFDLE9BQU87UUFDM0QsZUFBZSxFQUFFLGFBQWEsQ0FDNUIsZ0JBQWdCLEVBQ2hCLHlCQUF5QixDQUFDLE9BQU8sQ0FDbEM7UUFDRCx1QkFBdUIsRUFBRSxhQUFhLENBQ3BDLHdCQUF3QixFQUN4QixpQ0FBaUMsQ0FBQyxPQUFPLENBQzFDO1FBQ0QsZ0JBQWdCLEVBQUUsYUFBYSxDQUM3QixpQkFBaUIsRUFDakIsb0JBQW9CLENBQUMsT0FBTyxDQUM3QjtRQUNELFdBQVcsRUFBRSxhQUFhLENBQ3hCLGlCQUFpQixFQUNqQixxQkFBcUIsQ0FBQyxPQUFPLENBQzlCO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBRXBCLElBQUksY0FBYyxDQUE4QixjQUFjLENBQUMsQ0FBQztBQUVyRSxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQWE7SUFDdkMsT0FBTyxFQUFFLFlBQVk7SUFDckIsVUFBVSxFQUFFLFdBQVc7Q0FDeEIsQ0FBQztBQUVGLE1BQU0sVUFBVSxjQUFjLENBQzVCLE9BQTJCO0lBRTNCLE9BQU8sVUFBVSxLQUFLLEVBQUUsTUFBTTtRQUM1QixJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssV0FBVyxDQUFDLE1BQU0sRUFBRTtZQUN0QyxLQUFLLEdBQUcsU0FBUyxDQUFDO1NBQ25CO1FBRUQsT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQXVCLENBQUMsY0FBYyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEFjdGlvblJlZHVjZXIsXG4gIEFjdGlvblJlZHVjZXJNYXAsXG4gIGNvbWJpbmVSZWR1Y2VycyxcbiAgTWV0YVJlZHVjZXIsXG59IGZyb20gJ0BuZ3J4L3N0b3JlJztcbmltcG9ydCB7IEF1dGhBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vYXV0aC9zdG9yZS9hY3Rpb25zL2luZGV4JztcbmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9hZGRyZXNzLm1vZGVsJztcbmltcG9ydCB7IFBheW1lbnREZXRhaWxzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY2FydC5tb2RlbCc7XG5pbXBvcnQgeyBDb25zZW50VGVtcGxhdGUgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jb25zZW50Lm1vZGVsJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvblByZWZlcmVuY2UgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9ub3RpZmljYXRpb24tcHJlZmVyZW5jZS5tb2RlbCc7XG5pbXBvcnQgeyBDdXN0b21lckNvdXBvblNlYXJjaFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2N1c3RvbWVyLWNvdXBvbi5tb2RlbCc7XG5pbXBvcnQgeyBQcm9kdWN0SW50ZXJlc3RTZWFyY2hSZXN1bHQgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9wcm9kdWN0LWludGVyZXN0Lm1vZGVsJztcbmltcG9ydCB7XG4gIE9yZGVySGlzdG9yeUxpc3QsXG4gIFJldHVyblJlcXVlc3RMaXN0LFxuICBSZXR1cm5SZXF1ZXN0LFxuICBPcmRlcixcbn0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvb3JkZXIubW9kZWwnO1xuaW1wb3J0IHsgQ29zdENlbnRlciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL29yZy11bml0Lm1vZGVsJztcbmltcG9ydCB7IGxvYWRlclJlZHVjZXIgfSBmcm9tICcuLi8uLi8uLi9zdGF0ZS91dGlscy9sb2FkZXIvbG9hZGVyLnJlZHVjZXInO1xuaW1wb3J0IHtcbiAgUkVHSU9OUyxcbiAgUmVnaW9uc1N0YXRlLFxuICBVc2VyU3RhdGUsXG4gIFVTRVJfQUREUkVTU0VTLFxuICBVU0VSX0NPTlNFTlRTLFxuICBVU0VSX09SREVSUyxcbiAgVVNFUl9QQVlNRU5UX01FVEhPRFMsXG4gIENVU1RPTUVSX0NPVVBPTlMsXG4gIE5PVElGSUNBVElPTl9QUkVGRVJFTkNFUyxcbiAgUFJPRFVDVF9JTlRFUkVTVFMsXG4gIFVTRVJfUkVUVVJOX1JFUVVFU1RTLFxuICBVU0VSX09SREVSX0RFVEFJTFMsXG4gIFVTRVJfUkVUVVJOX1JFUVVFU1RfREVUQUlMUyxcbiAgVVNFUl9DT1NUX0NFTlRFUlMsXG59IGZyb20gJy4uL3VzZXItc3RhdGUnO1xuaW1wb3J0ICogYXMgZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyIGZyb20gJy4vYmlsbGluZy1jb3VudHJpZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQ29uc2lnbm1lbnRUcmFja2luZ1JlZHVjZXIgZnJvbSAnLi9jb25zaWdubWVudC10cmFja2luZy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21EZWxpdmVyeUNvdW50cmllcyBmcm9tICcuL2RlbGl2ZXJ5LWNvdW50cmllcy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Ob3RpZmljYXRpb25QcmVmZXJlbmNlUmVkdWNlciBmcm9tICcuL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbU9yZGVyRGV0YWlsc1JlZHVjZXIgZnJvbSAnLi9vcmRlci1kZXRhaWxzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVBheW1lbnRSZWR1Y2VyIGZyb20gJy4vcGF5bWVudC1tZXRob2RzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVJlZ2lvbnNSZWR1Y2VyIGZyb20gJy4vcmVnaW9ucy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21SZXNldFBhc3N3b3JkUmVkdWNlciBmcm9tICcuL3Jlc2V0LXBhc3N3b3JkLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVRpdGxlc1JlZHVjZXIgZnJvbSAnLi90aXRsZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQWRkcmVzc2VzUmVkdWNlciBmcm9tICcuL3VzZXItYWRkcmVzc2VzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVVzZXJDb25zZW50c1JlZHVjZXIgZnJvbSAnLi91c2VyLWNvbnNlbnRzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVVzZXJEZXRhaWxzUmVkdWNlciBmcm9tICcuL3VzZXItZGV0YWlscy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Vc2VyT3JkZXJzUmVkdWNlciBmcm9tICcuL3VzZXItb3JkZXJzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUN1c3RvbWVyQ291cG9uUmVkdWNlciBmcm9tICcuL2N1c3RvbWVyLWNvdXBvbi5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21JbnRlcmVzdHNSZWR1Y2VyIGZyb20gJy4vcHJvZHVjdC1pbnRlcmVzdHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJSZXR1cm5SZXF1ZXN0UmVkdWNlciBmcm9tICcuL29yZGVyLXJldHVybi1yZXF1ZXN0LnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUNvc3RDZW50ZXJSZWR1Y2VyIGZyb20gJy4vdXNlci1jb3N0LWNlbnRlci5yZWR1Y2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZHVjZXJzKCk6IEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPiB7XG4gIHJldHVybiB7XG4gICAgYWNjb3VudDogY29tYmluZVJlZHVjZXJzKHtcbiAgICAgIGRldGFpbHM6IGZyb21Vc2VyRGV0YWlsc1JlZHVjZXIucmVkdWNlcixcbiAgICB9KSxcbiAgICBhZGRyZXNzZXM6IGxvYWRlclJlZHVjZXI8QWRkcmVzc1tdPihcbiAgICAgIFVTRVJfQUREUkVTU0VTLFxuICAgICAgZnJvbUFkZHJlc3Nlc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgYmlsbGluZ0NvdW50cmllczogZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyLnJlZHVjZXIsXG4gICAgY29uc2VudHM6IGxvYWRlclJlZHVjZXI8Q29uc2VudFRlbXBsYXRlW10+KFxuICAgICAgVVNFUl9DT05TRU5UUyxcbiAgICAgIGZyb21Vc2VyQ29uc2VudHNSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIHBheW1lbnRzOiBsb2FkZXJSZWR1Y2VyPFBheW1lbnREZXRhaWxzW10+KFxuICAgICAgVVNFUl9QQVlNRU5UX01FVEhPRFMsXG4gICAgICBmcm9tUGF5bWVudFJlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXJzOiBsb2FkZXJSZWR1Y2VyPE9yZGVySGlzdG9yeUxpc3Q+KFxuICAgICAgVVNFUl9PUkRFUlMsXG4gICAgICBmcm9tVXNlck9yZGVyc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXI6IGxvYWRlclJlZHVjZXI8T3JkZXI+KFxuICAgICAgVVNFUl9PUkRFUl9ERVRBSUxTLFxuICAgICAgZnJvbU9yZGVyRGV0YWlsc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXJSZXR1cm46IGxvYWRlclJlZHVjZXI8UmV0dXJuUmVxdWVzdD4oVVNFUl9SRVRVUk5fUkVRVUVTVF9ERVRBSUxTKSxcbiAgICBvcmRlclJldHVybkxpc3Q6IGxvYWRlclJlZHVjZXI8UmV0dXJuUmVxdWVzdExpc3Q+KFxuICAgICAgVVNFUl9SRVRVUk5fUkVRVUVTVFMsXG4gICAgICBmcm9tT3JkZXJSZXR1cm5SZXF1ZXN0UmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBjb3VudHJpZXM6IGZyb21EZWxpdmVyeUNvdW50cmllcy5yZWR1Y2VyLFxuICAgIHRpdGxlczogZnJvbVRpdGxlc1JlZHVjZXIucmVkdWNlcixcbiAgICByZWdpb25zOiBsb2FkZXJSZWR1Y2VyPFJlZ2lvbnNTdGF0ZT4oUkVHSU9OUywgZnJvbVJlZ2lvbnNSZWR1Y2VyLnJlZHVjZXIpLFxuICAgIHJlc2V0UGFzc3dvcmQ6IGZyb21SZXNldFBhc3N3b3JkUmVkdWNlci5yZWR1Y2VyLFxuICAgIGNvbnNpZ25tZW50VHJhY2tpbmc6IGZyb21Db25zaWdubWVudFRyYWNraW5nUmVkdWNlci5yZWR1Y2VyLFxuICAgIGN1c3RvbWVyQ291cG9uczogbG9hZGVyUmVkdWNlcjxDdXN0b21lckNvdXBvblNlYXJjaFJlc3VsdD4oXG4gICAgICBDVVNUT01FUl9DT1VQT05TLFxuICAgICAgZnJvbUN1c3RvbWVyQ291cG9uUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBub3RpZmljYXRpb25QcmVmZXJlbmNlczogbG9hZGVyUmVkdWNlcjxOb3RpZmljYXRpb25QcmVmZXJlbmNlW10+KFxuICAgICAgTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VTLFxuICAgICAgZnJvbU5vdGlmaWNhdGlvblByZWZlcmVuY2VSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIHByb2R1Y3RJbnRlcmVzdHM6IGxvYWRlclJlZHVjZXI8UHJvZHVjdEludGVyZXN0U2VhcmNoUmVzdWx0PihcbiAgICAgIFBST0RVQ1RfSU5URVJFU1RTLFxuICAgICAgZnJvbUludGVyZXN0c1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgY29zdENlbnRlcnM6IGxvYWRlclJlZHVjZXI8Q29zdENlbnRlcltdPihcbiAgICAgIFVTRVJfQ09TVF9DRU5URVJTLFxuICAgICAgZnJvbUNvc3RDZW50ZXJSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlclRva2VuOiBJbmplY3Rpb25Ub2tlbjxBY3Rpb25SZWR1Y2VyTWFwPFxuICBVc2VyU3RhdGVcbj4+ID0gbmV3IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8VXNlclN0YXRlPj4oJ1VzZXJSZWR1Y2VycycpO1xuXG5leHBvcnQgY29uc3QgcmVkdWNlclByb3ZpZGVyOiBQcm92aWRlciA9IHtcbiAgcHJvdmlkZTogcmVkdWNlclRva2VuLFxuICB1c2VGYWN0b3J5OiBnZXRSZWR1Y2Vycyxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJTdGF0ZShcbiAgcmVkdWNlcjogQWN0aW9uUmVkdWNlcjxhbnk+XG4pOiBBY3Rpb25SZWR1Y2VyPGFueT4ge1xuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IEF1dGhBY3Rpb25zLkxPR09VVCkge1xuICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBtZXRhUmVkdWNlcnM6IE1ldGFSZWR1Y2VyPGFueT5bXSA9IFtjbGVhclVzZXJTdGF0ZV07XG4iXX0=