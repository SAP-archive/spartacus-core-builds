import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions } from '../../../auth/user-auth/store/actions/index';
import { loaderReducer } from '../../../state/utils/loader/loader.reducer';
import { CUSTOMER_COUPONS, NOTIFICATION_PREFERENCES, PRODUCT_INTERESTS, REGIONS, USER_ADDRESSES, USER_CONSENTS, USER_COST_CENTERS, USER_ORDERS, USER_ORDER_DETAILS, USER_PAYMENT_METHODS, USER_REPLENISHMENT_ORDERS, USER_REPLENISHMENT_ORDER_DETAILS, USER_RETURN_REQUESTS, USER_RETURN_REQUEST_DETAILS, } from '../user-state';
import * as fromBillingCountriesReducer from './billing-countries.reducer';
import * as fromConsignmentTrackingReducer from './consignment-tracking.reducer';
import * as fromCustomerCouponReducer from './customer-coupon.reducer';
import * as fromDeliveryCountries from './delivery-countries.reducer';
import * as fromNotificationPreferenceReducer from './notification-preference.reducer';
import * as fromOrderDetailsReducer from './order-details.reducer';
import * as fromOrderReturnRequestReducer from './order-return-request.reducer';
import * as fromPaymentReducer from './payment-methods.reducer';
import * as fromInterestsReducer from './product-interests.reducer';
import * as fromRegionsReducer from './regions.reducer';
import * as fromReplenishmentOrderDetailsReducer from './replenishment-order-details.reducer';
import * as fromResetPasswordReducer from './reset-password.reducer';
import * as fromTitlesReducer from './titles.reducer';
import * as fromAddressesReducer from './user-addresses.reducer';
import * as fromUserConsentsReducer from './user-consents.reducer';
import * as fromCostCenterReducer from './user-cost-center.reducer';
import * as fromUserDetailsReducer from './user-details.reducer';
import * as fromUserOrdersReducer from './user-orders.reducer';
import * as fromUserReplenishmentOrdersReducer from './user-replenishment-orders.reducer';
export function getReducers() {
    return {
        account: combineReducers({
            details: fromUserDetailsReducer.reducer,
        }),
        addresses: loaderReducer(USER_ADDRESSES, fromAddressesReducer.reducer),
        billingCountries: fromBillingCountriesReducer.reducer,
        consents: loaderReducer(USER_CONSENTS, fromUserConsentsReducer.reducer),
        payments: loaderReducer(USER_PAYMENT_METHODS, fromPaymentReducer.reducer),
        orders: loaderReducer(USER_ORDERS, fromUserOrdersReducer.reducer),
        order: loaderReducer(USER_ORDER_DETAILS, fromOrderDetailsReducer.reducer),
        replenishmentOrders: loaderReducer(USER_REPLENISHMENT_ORDERS, fromUserReplenishmentOrdersReducer.reducer),
        orderReturn: loaderReducer(USER_RETURN_REQUEST_DETAILS),
        orderReturnList: loaderReducer(USER_RETURN_REQUESTS, fromOrderReturnRequestReducer.reducer),
        countries: fromDeliveryCountries.reducer,
        titles: fromTitlesReducer.reducer,
        regions: loaderReducer(REGIONS, fromRegionsReducer.reducer),
        resetPassword: fromResetPasswordReducer.reducer,
        consignmentTracking: fromConsignmentTrackingReducer.reducer,
        customerCoupons: loaderReducer(CUSTOMER_COUPONS, fromCustomerCouponReducer.reducer),
        notificationPreferences: loaderReducer(NOTIFICATION_PREFERENCES, fromNotificationPreferenceReducer.reducer),
        productInterests: loaderReducer(PRODUCT_INTERESTS, fromInterestsReducer.reducer),
        costCenters: loaderReducer(USER_COST_CENTERS, fromCostCenterReducer.reducer),
        replenishmentOrder: loaderReducer(USER_REPLENISHMENT_ORDER_DETAILS, fromReplenishmentOrderDetailsReducer.reducer),
    };
}
export const reducerToken = new InjectionToken('UserReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearUserState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearUserState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jb3JlL3NyYy91c2VyL3N0b3JlL3JlZHVjZXJzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQVksTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUdMLGVBQWUsR0FFaEIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBa0IxRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDM0UsT0FBTyxFQUNMLGdCQUFnQixFQUNoQix3QkFBd0IsRUFDeEIsaUJBQWlCLEVBQ2pCLE9BQU8sRUFHUCxjQUFjLEVBQ2QsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixXQUFXLEVBQ1gsa0JBQWtCLEVBQ2xCLG9CQUFvQixFQUNwQix5QkFBeUIsRUFDekIsZ0NBQWdDLEVBQ2hDLG9CQUFvQixFQUNwQiwyQkFBMkIsR0FDNUIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLDJCQUEyQixNQUFNLDZCQUE2QixDQUFDO0FBQzNFLE9BQU8sS0FBSyw4QkFBOEIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNqRixPQUFPLEtBQUsseUJBQXlCLE1BQU0sMkJBQTJCLENBQUM7QUFDdkUsT0FBTyxLQUFLLHFCQUFxQixNQUFNLDhCQUE4QixDQUFDO0FBQ3RFLE9BQU8sS0FBSyxpQ0FBaUMsTUFBTSxtQ0FBbUMsQ0FBQztBQUN2RixPQUFPLEtBQUssdUJBQXVCLE1BQU0seUJBQXlCLENBQUM7QUFDbkUsT0FBTyxLQUFLLDZCQUE2QixNQUFNLGdDQUFnQyxDQUFDO0FBQ2hGLE9BQU8sS0FBSyxrQkFBa0IsTUFBTSwyQkFBMkIsQ0FBQztBQUNoRSxPQUFPLEtBQUssb0JBQW9CLE1BQU0sNkJBQTZCLENBQUM7QUFDcEUsT0FBTyxLQUFLLGtC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Q25CO1FBRUQsT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQXVCLENBQUMsY0FBYyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEFjdGlvblJlZHVjZXIsXG4gIEFjdGlvblJlZHVjZXJNYXAsXG4gIGNvbWJpbmVSZWR1Y2VycyxcbiAgTWV0YVJlZHVjZXIsXG59IGZyb20gJ0BuZ3J4L3N0b3JlJztcbmltcG9ydCB7IEF1dGhBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vYXV0aC91c2VyLWF1dGgvc3RvcmUvYWN0aW9ucy9pbmRleCc7XG5pbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvYWRkcmVzcy5tb2RlbCc7XG5pbXBvcnQgeyBQYXltZW50RGV0YWlscyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2NhcnQubW9kZWwnO1xuaW1wb3J0IHsgQ29uc2VudFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY29uc2VudC5tb2RlbCc7XG5pbXBvcnQgeyBDdXN0b21lckNvdXBvblNlYXJjaFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2N1c3RvbWVyLWNvdXBvbi5tb2RlbCc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25QcmVmZXJlbmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvbm90aWZpY2F0aW9uLXByZWZlcmVuY2UubW9kZWwnO1xuaW1wb3J0IHtcbiAgT3JkZXIsXG4gIE9yZGVySGlzdG9yeUxpc3QsXG4gIFJldHVyblJlcXVlc3QsXG4gIFJldHVyblJlcXVlc3RMaXN0LFxufSBmcm9tICcuLi8uLi8uLi9tb2RlbC9vcmRlci5tb2RlbCc7XG5pbXBvcnQgeyBDb3N0Q2VudGVyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvb3JnLXVuaXQubW9kZWwnO1xuaW1wb3J0IHsgUHJvZHVjdEludGVyZXN0U2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvcHJvZHVjdC1pbnRlcmVzdC5tb2RlbCc7XG5pbXBvcnQge1xuICBSZXBsZW5pc2htZW50T3JkZXIsXG4gIFJlcGxlbmlzaG1lbnRPcmRlckxpc3QsXG59IGZyb20gJy4uLy4uLy4uL21vZGVsL3JlcGxlbmlzaG1lbnQtb3JkZXIubW9kZWwnO1xuaW1wb3J0IHsgbG9hZGVyUmVkdWNlciB9IGZyb20gJy4uLy4uLy4uL3N0YXRlL3V0aWxzL2xvYWRlci9sb2FkZXIucmVkdWNlcic7XG5pbXBvcnQge1xuICBDVVNUT01FUl9DT1VQT05TLFxuICBOT1RJRklDQVRJT05fUFJFRkVSRU5DRVMsXG4gIFBST0RVQ1RfSU5URVJFU1RTLFxuICBSRUdJT05TLFxuICBSZWdpb25zU3RhdGUsXG4gIFVzZXJTdGF0ZSxcbiAgVVNFUl9BRERSRVNTRVMsXG4gIFVTRVJfQ09OU0VOVFMsXG4gIFVTRVJfQ09TVF9DRU5URVJTLFxuICBVU0VSX09SREVSUyxcbiAgVVNFUl9PUkRFUl9ERVRBSUxTLFxuICBVU0VSX1BBWU1FTlRfTUVUSE9EUyxcbiAgVVNFUl9SRVBMRU5JU0hNRU5UX09SREVSUyxcbiAgVVNFUl9SRVBMRU5JU0hNRU5UX09SREVSX0RFVEFJTFMsXG4gIFVTRVJfUkVUVVJOX1JFUVVFU1RTLFxuICBVU0VSX1JFVFVSTl9SRVFVRVNUX0RFVEFJTFMsXG59IGZyb20gJy4uL3VzZXItc3RhdGUnO1xuaW1wb3J0ICogYXMgZnJvbUJpbGxpbmdDb3VudHJpZXNSZWR1Y2VyIGZyb20gJy4vYmlsbGluZy1jb3VudHJpZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQ29uc2lnbm1lbnRUcmFja2luZ1JlZHVjZXIgZnJvbSAnLi9jb25zaWdubWVudC10cmFja2luZy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21DdXN0b21lckNvdXBvblJlZHVjZXIgZnJvbSAnLi9jdXN0b21lci1jb3Vwb24ucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tRGVsaXZlcnlDb3VudHJpZXMgZnJvbSAnLi9kZWxpdmVyeS1jb3VudHJpZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tTm90aWZpY2F0aW9uUHJlZmVyZW5jZVJlZHVjZXIgZnJvbSAnLi9ub3RpZmljYXRpb24tcHJlZmVyZW5jZS5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21PcmRlckRldGFpbHNSZWR1Y2VyIGZyb20gJy4vb3JkZXItZGV0YWlscy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21PcmRlclJldHVyblJlcXVlc3RSZWR1Y2VyIGZyb20gJy4vb3JkZXItcmV0dXJuLXJlcXVlc3QucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUGF5bWVudFJlZHVjZXIgZnJvbSAnLi9wYXltZW50LW1ldGhvZHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tSW50ZXJlc3RzUmVkdWNlciBmcm9tICcuL3Byb2R1Y3QtaW50ZXJlc3RzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVJlZ2lvbnNSZWR1Y2VyIGZyb20gJy4vcmVnaW9ucy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21SZXBsZW5pc2htZW50T3JkZXJEZXRhaWxzUmVkdWNlciBmcm9tICcuL3JlcGxlbmlzaG1lbnQtb3JkZXItZGV0YWlscy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21SZXNldFBhc3N3b3JkUmVkdWNlciBmcm9tICcuL3Jlc2V0LXBhc3N3b3JkLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVRpdGxlc1JlZHVjZXIgZnJvbSAnLi90aXRsZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQWRkcmVzc2VzUmVkdWNlciBmcm9tICcuL3VzZXItYWRkcmVzc2VzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVVzZXJDb25zZW50c1JlZHVjZXIgZnJvbSAnLi91c2VyLWNvbnNlbnRzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUNvc3RDZW50ZXJSZWR1Y2VyIGZyb20gJy4vdXNlci1jb3N0LWNlbnRlci5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Vc2VyRGV0YWlsc1JlZHVjZXIgZnJvbSAnLi91c2VyLWRldGFpbHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVXNlck9yZGVyc1JlZHVjZXIgZnJvbSAnLi91c2VyLW9yZGVycy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Vc2VyUmVwbGVuaXNobWVudE9yZGVyc1JlZHVjZXIgZnJvbSAnLi91c2VyLXJlcGxlbmlzaG1lbnQtb3JkZXJzLnJlZHVjZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkdWNlcnMoKTogQWN0aW9uUmVkdWNlck1hcDxVc2VyU3RhdGU+IHtcbiAgcmV0dXJuIHtcbiAgICBhY2NvdW50OiBjb21iaW5lUmVkdWNlcnMoe1xuICAgICAgZGV0YWlsczogZnJvbVVzZXJEZXRhaWxzUmVkdWNlci5yZWR1Y2VyLFxuICAgIH0pLFxuICAgIGFkZHJlc3NlczogbG9hZGVyUmVkdWNlcjxBZGRyZXNzW10+KFxuICAgICAgVVNFUl9BRERSRVNTRVMsXG4gICAgICBmcm9tQWRkcmVzc2VzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBiaWxsaW5nQ291bnRyaWVzOiBmcm9tQmlsbGluZ0NvdW50cmllc1JlZHVjZXIucmVkdWNlcixcbiAgICBjb25zZW50czogbG9hZGVyUmVkdWNlcjxDb25zZW50VGVtcGxhdGVbXT4oXG4gICAgICBVU0VSX0NPTlNFTlRTLFxuICAgICAgZnJvbVVzZXJDb25zZW50c1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgcGF5bWVudHM6IGxvYWRlclJlZHVjZXI8UGF5bWVudERldGFpbHNbXT4oXG4gICAgICBVU0VSX1BBWU1FTlRfTUVUSE9EUyxcbiAgICAgIGZyb21QYXltZW50UmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBvcmRlcnM6IGxvYWRlclJlZHVjZXI8T3JkZXJIaXN0b3J5TGlzdD4oXG4gICAgICBVU0VSX09SREVSUyxcbiAgICAgIGZyb21Vc2VyT3JkZXJzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBvcmRlcjogbG9hZGVyUmVkdWNlcjxPcmRlcj4oXG4gICAgICBVU0VSX09SREVSX0RFVEFJTFMsXG4gICAgICBmcm9tT3JkZXJEZXRhaWxzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICByZXBsZW5pc2htZW50T3JkZXJzOiBsb2FkZXJSZWR1Y2VyPFJlcGxlbmlzaG1lbnRPcmRlckxpc3Q+KFxuICAgICAgVVNFUl9SRVBMRU5JU0hNRU5UX09SREVSUyxcbiAgICAgIGZyb21Vc2VyUmVwbGVuaXNobWVudE9yZGVyc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgb3JkZXJSZXR1cm46IGxvYWRlclJlZHVjZXI8UmV0dXJuUmVxdWVzdD4oVVNFUl9SRVRVUk5fUkVRVUVTVF9ERVRBSUxTKSxcbiAgICBvcmRlclJldHVybkxpc3Q6IGxvYWRlclJlZHVjZXI8UmV0dXJuUmVxdWVzdExpc3Q+KFxuICAgICAgVVNFUl9SRVRVUk5fUkVRVUVTVFMsXG4gICAgICBmcm9tT3JkZXJSZXR1cm5SZXF1ZXN0UmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBjb3VudHJpZXM6IGZyb21EZWxpdmVyeUNvdW50cmllcy5yZWR1Y2VyLFxuICAgIHRpdGxlczogZnJvbVRpdGxlc1JlZHVjZXIucmVkdWNlcixcbiAgICByZWdpb25zOiBsb2FkZXJSZWR1Y2VyPFJlZ2lvbnNTdGF0ZT4oUkVHSU9OUywgZnJvbVJlZ2lvbnNSZWR1Y2VyLnJlZHVjZXIpLFxuICAgIHJlc2V0UGFzc3dvcmQ6IGZyb21SZXNldFBhc3N3b3JkUmVkdWNlci5yZWR1Y2VyLFxuICAgIGNvbnNpZ25tZW50VHJhY2tpbmc6IGZyb21Db25zaWdubWVudFRyYWNraW5nUmVkdWNlci5yZWR1Y2VyLFxuICAgIGN1c3RvbWVyQ291cG9uczogbG9hZGVyUmVkdWNlcjxDdXN0b21lckNvdXBvblNlYXJjaFJlc3VsdD4oXG4gICAgICBDVVNUT01FUl9DT1VQT05TLFxuICAgICAgZnJvbUN1c3RvbWVyQ291cG9uUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBub3RpZmljYXRpb25QcmVmZXJlbmNlczogbG9hZGVyUmVkdWNlcjxOb3RpZmljYXRpb25QcmVmZXJlbmNlW10+KFxuICAgICAgTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VTLFxuICAgICAgZnJvbU5vdGlmaWNhdGlvblByZWZlcmVuY2VSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIHByb2R1Y3RJbnRlcmVzdHM6IGxvYWRlclJlZHVjZXI8UHJvZHVjdEludGVyZXN0U2VhcmNoUmVzdWx0PihcbiAgICAgIFBST0RVQ1RfSU5URVJFU1RTLFxuICAgICAgZnJvbUludGVyZXN0c1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgY29zdENlbnRlcnM6IGxvYWRlclJlZHVjZXI8Q29zdENlbnRlcltdPihcbiAgICAgIFVTRVJfQ09TVF9DRU5URVJTLFxuICAgICAgZnJvbUNvc3RDZW50ZXJSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIHJlcGxlbmlzaG1lbnRPcmRlcjogbG9hZGVyUmVkdWNlcjxSZXBsZW5pc2htZW50T3JkZXI+KFxuICAgICAgVVNFUl9SRVBMRU5JU0hNRU5UX09SREVSX0RFVEFJTFMsXG4gICAgICBmcm9tUmVwbGVuaXNobWVudE9yZGVyRGV0YWlsc1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyVG9rZW46IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8XG4gIFVzZXJTdGF0ZVxuPj4gPSBuZXcgSW5qZWN0aW9uVG9rZW48QWN0aW9uUmVkdWNlck1hcDxVc2VyU3RhdGU+PignVXNlclJlZHVjZXJzJyk7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyUHJvdmlkZXI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiByZWR1Y2VyVG9rZW4sXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlclN0YXRlKFxuICByZWR1Y2VyOiBBY3Rpb25SZWR1Y2VyPGFueT5cbik6IEFjdGlvblJlZHVjZXI8YW55PiB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQXV0aEFjdGlvbnMuTE9HT1VUKSB7XG4gICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW2NsZWFyVXNlclN0YXRlXTtcbiJdfQ==