import { ProductActions } from '../actions/index';
export const initialState = {
    productCode: '',
    list: [],
};
export function reducer(state = initialState, action) {
    switch (action.type) {
        case ProductActions.LOAD_PRODUCT_REFERENCES_SUCCESS: {
            const productCode = action.payload.productCode;
            const list = action.payload.list;
            return Object.assign(Object.assign({}, state), { list: [...state.list, ...(list ? list : [])].reduce((productReferences, productReference) => {
                    if (!productReferences.some(obj => obj.referenceType === productReference.referenceType &&
                        obj.target.code === productReference.target.code)) {
                        productReferences.push(productReference);
                    }
                    return productReferences;
                }, []), productCode });
        }
        case ProductActions.CLEAN_PRODUCT_REFERENCES: {
            return initialState;
        }
    }
    return state;
}
export const getProductReferenceList = (state) => state.list;
export const getProductReferenceProductCode = (state) => state.productCode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC1yZWZlcmVuY2VzLnJlZHVjZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL2NvcmUvIiwic291cmNlcyI6WyJzcmMvcHJvZHVjdC9zdG9yZS9yZWR1Y2Vycy9wcm9kdWN0LXJlZmVyZW5jZXMucmVkdWNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHbEQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUEyQjtJQUNsRCxXQUFXLEVBQUUsRUFBRTtJQUNmLElBQUksRUFBRSxFQUFFO0NBQ1QsQ0FBQztBQUVGLE1BQU0sVUFBVSxPQUFPLENBQ3JCLEtBQUssR0FBRyxZQUFZLEVBQ3BCLE1BQThDO0lBRTlDLFFBQVEsTUFBTSxDQUFDLElBQUksRUFBRTtRQUNuQixLQUFLLGNBQWMsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1lBQ25ELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1lBQy9DLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBRWpDLHVDQUNLLEtBQUssS0FDUixJQUFJLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FDakQsQ0FDRSxpQkFBcUMsRUFDckMsZ0JBQWtDLEVBQ2xDLEVBQUU7b0JBQ0YsSUFDRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FDckIsR0FBRyxDQUFDLEVBQUUsQ0FDSixHQUFHLENBQUMsYUFBYSxLQUFLLGdCQUFnQixDQUFDLGFBQWE7d0JBQ3BELEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQ25ELEVBQ0Q7d0JBQ0EsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7cUJBQzFDO29CQUNELE9BQU8saUJBQWlCLENBQUM7Z0JBQzNCLENBQUMsRUFDRCxFQUFFLENBQ0gsRUFDRCxXQUFXLElBQ1g7U0FDSDtRQUVELEtBQUssY0FBYyxDQUFDLHdCQUF3QixDQUFDLENBQUM7WUFDNUMsT0FBTyxZQUFZLENBQUM7U0FDckI7S0FDRjtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLENBQ3JDLEtBQTZCLEVBQ1QsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7QUFDcEMsTUFBTSxDQUFDLE1BQU0sOEJBQThCLEdBQUcsQ0FDNUMsS0FBNkIsRUFDckIsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9kdWN0UmVmZXJlbmNlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvcHJvZHVjdC5tb2RlbCc7XG5pbXBvcnQgeyBQcm9kdWN0QWN0aW9ucyB9IGZyb20gJy4uL2FjdGlvbnMvaW5kZXgnO1xuaW1wb3J0IHsgUHJvZHVjdFJlZmVyZW5jZXNTdGF0ZSB9IGZyb20gJy4uL3Byb2R1Y3Qtc3RhdGUnO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBQcm9kdWN0UmVmZXJlbmNlc1N0YXRlID0ge1xuICBwcm9kdWN0Q29kZTogJycsXG4gIGxpc3Q6IFtdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZXIoXG4gIHN0YXRlID0gaW5pdGlhbFN0YXRlLFxuICBhY3Rpb246IFByb2R1Y3RBY3Rpb25zLlByb2R1Y3RSZWZlcmVuY2VzQWN0aW9uXG4pOiBQcm9kdWN0UmVmZXJlbmNlc1N0YXRlIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUHJvZHVjdEFjdGlvbnMuTE9BRF9QUk9EVUNUX1JFRkVSRU5DRVNfU1VDQ0VTUzoge1xuICAgICAgY29uc3QgcHJvZHVjdENvZGUgPSBhY3Rpb24ucGF5bG9hZC5wcm9kdWN0Q29kZTtcbiAgICAgIGNvbnN0IGxpc3QgPSBhY3Rpb24ucGF5bG9hZC5saXN0O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbGlzdDogWy4uLnN0YXRlLmxpc3QsIC4uLihsaXN0ID8gbGlzdCA6IFtdKV0ucmVkdWNlKFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHByb2R1Y3RSZWZlcmVuY2VzOiBQcm9kdWN0UmVmZXJlbmNlW10sXG4gICAgICAgICAgICBwcm9kdWN0UmVmZXJlbmNlOiBQcm9kdWN0UmVmZXJlbmNlXG4gICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFwcm9kdWN0UmVmZXJlbmNlcy5zb21lKFxuICAgICAgICAgICAgICAgIG9iaiA9PlxuICAgICAgICAgICAgICAgICAgb2JqLnJlZmVyZW5jZVR5cGUgPT09IHByb2R1Y3RSZWZlcmVuY2UucmVmZXJlbmNlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgb2JqLnRhcmdldC5jb2RlID09PSBwcm9kdWN0UmVmZXJlbmNlLnRhcmdldC5jb2RlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBwcm9kdWN0UmVmZXJlbmNlcy5wdXNoKHByb2R1Y3RSZWZlcmVuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3RSZWZlcmVuY2VzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW11cbiAgICAgICAgKSxcbiAgICAgICAgcHJvZHVjdENvZGUsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNhc2UgUHJvZHVjdEFjdGlvbnMuQ0xFQU5fUFJPRFVDVF9SRUZFUkVOQ0VTOiB7XG4gICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RSZWZlcmVuY2VMaXN0ID0gKFxuICBzdGF0ZTogUHJvZHVjdFJlZmVyZW5jZXNTdGF0ZVxuKTogUHJvZHVjdFJlZmVyZW5jZVtdID0+IHN0YXRlLmxpc3Q7XG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdFJlZmVyZW5jZVByb2R1Y3RDb2RlID0gKFxuICBzdGF0ZTogUHJvZHVjdFJlZmVyZW5jZXNTdGF0ZVxuKTogc3RyaW5nID0+IHN0YXRlLnByb2R1Y3RDb2RlO1xuIl19