import { Meta } from '@angular/platform-browser';
import { provideConfigFactory } from '../../config/config-providers';
export const OCC_BASE_URL_META_TAG_NAME = 'occ-backend-base-url';
export const OCC_BASE_URL_META_TAG_PLACEHOLDER = 'OCC_BACKEND_BASE_URL_VALUE';
export const MEDIA_BASE_URL_META_TAG_NAME = 'media-backend-base-url';
export const MEDIA_BASE_URL_META_TAG_PLACEHOLDER = 'MEDIA_BACKEND_BASE_URL_VALUE';
export function occServerConfigFromMetaTagFactory(meta) {
    const baseUrl = getMetaTagContent(OCC_BASE_URL_META_TAG_NAME, meta);
    return baseUrl && baseUrl !== OCC_BASE_URL_META_TAG_PLACEHOLDER
        ? { backend: { occ: { baseUrl } } }
        : {};
}
export function mediaServerConfigFromMetaTagFactory(meta) {
    const baseUrl = getMetaTagContent(MEDIA_BASE_URL_META_TAG_NAME, meta);
    return baseUrl && baseUrl !== MEDIA_BASE_URL_META_TAG_PLACEHOLDER
        ? { backend: { media: { baseUrl } } }
        : {};
}
function getMetaTagContent(name, meta) {
    const metaTag = meta.getTag(`name="${name}"`);
    return metaTag && metaTag.content;
}
export function provideConfigFromMetaTags() {
    return [
        provideConfigFactory(occServerConfigFromMetaTagFactory, [Meta]),
        provideConfigFactory(mediaServerConfigFromMetaTagFactory, [Meta]),
    ];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLWZyb20tbWV0YS10YWctZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvcmUvc3JjL29jYy9jb25maWcvY29uZmlnLWZyb20tbWV0YS10YWctZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFakQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFckUsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsc0JBQXNCLENBQUM7QUFDakUsTUFBTSxDQUFDLE1BQU0saUNBQWlDLEdBQUcsNEJBQTRCLENBQUM7QUFDOUUsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsd0JBQXdCLENBQUM7QUFDckUsTUFBTSxDQUFDLE1BQU0sbUNBQW1DLEdBQzlDLDhCQUE4QixDQUFDO0FBRWpDLE1BQU0sVUFBVSxpQ0FBaUMsQ0FBQyxJQUFVO0lBQzFELE1BQU0sT0FBTyxHQUFHLGlCQUFpQixDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3BFLE9BQU8sT0FBTyxJQUFJLE9BQU8sS0FBSyxpQ0FBaUM7UUFDN0QsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtRQUNuQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ1QsQ0FBQztBQUVELE1BQU0sVUFBVSxtQ0FBbUMsQ0FBQyxJQUFVO0lBQzVELE1BQU0sT0FBTyxHQUFHLGlCQUFpQixDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RFLE9BQU8sT0FBTyxJQUFJLE9BQU8sS0FBSyxtQ0FBbUM7UUFDL0QsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtRQUNyQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ1QsQ0FBQztBQUVELFNBQVMsaUJBQWlCLENBQUMsSUFBWSxFQUFFLElBQVU7SUFDakQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLElBQUksR0FBRyxDQUFDLENBQUM7SUFDOUMsT0FBTyxPQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUNwQyxDQUFDO0FBRUQsTUFBTSxVQUFVLHlCQUF5QjtJQUN2QyxPQUFPO1FBQ0wsb0JBQW9CLENBQUMsaUNBQWlDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvRCxvQkFBb0IsQ0FBQyxtQ0FBbUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xFLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1ldGEgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7IE9jY0NvbmZpZyB9IGZyb20gJy4vb2NjLWNvbmZpZyc7XG5pbXBvcnQgeyBwcm92aWRlQ29uZmlnRmFjdG9yeSB9IGZyb20gJy4uLy4uL2NvbmZpZy9jb25maWctcHJvdmlkZXJzJztcblxuZXhwb3J0IGNvbnN0IE9DQ19CQVNFX1VSTF9NRVRBX1RBR19OQU1FID0gJ29jYy1iYWNrZW5kLWJhc2UtdXJsJztcbmV4cG9ydCBjb25zdCBPQ0NfQkFTRV9VUkxfTUVUQV9UQUdfUExBQ0VIT0xERVIgPSAnT0NDX0JBQ0tFTkRfQkFTRV9VUkxfVkFMVUUnO1xuZXhwb3J0IGNvbnN0IE1FRElBX0JBU0VfVVJMX01FVEFfVEFHX05BTUUgPSAnbWVkaWEtYmFja2VuZC1iYXNlLXVybCc7XG5leHBvcnQgY29uc3QgTUVESUFfQkFTRV9VUkxfTUVUQV9UQUdfUExBQ0VIT0xERVIgPVxuICAnTUVESUFfQkFDS0VORF9CQVNFX1VSTF9WQUxVRSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBvY2NTZXJ2ZXJDb25maWdGcm9tTWV0YVRhZ0ZhY3RvcnkobWV0YTogTWV0YSk6IE9jY0NvbmZpZyB7XG4gIGNvbnN0IGJhc2VVcmwgPSBnZXRNZXRhVGFnQ29udGVudChPQ0NfQkFTRV9VUkxfTUVUQV9UQUdfTkFNRSwgbWV0YSk7XG4gIHJldHVybiBiYXNlVXJsICYmIGJhc2VVcmwgIT09IE9DQ19CQVNFX1VSTF9NRVRBX1RBR19QTEFDRUhPTERFUlxuICAgID8geyBiYWNrZW5kOiB7IG9jYzogeyBiYXNlVXJsIH0gfSB9XG4gICAgOiB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lZGlhU2VydmVyQ29uZmlnRnJvbU1ldGFUYWdGYWN0b3J5KG1ldGE6IE1ldGEpOiBPY2NDb25maWcge1xuICBjb25zdCBiYXNlVXJsID0gZ2V0TWV0YVRhZ0NvbnRlbnQoTUVESUFfQkFTRV9VUkxfTUVUQV9UQUdfTkFNRSwgbWV0YSk7XG4gIHJldHVybiBiYXNlVXJsICYmIGJhc2VVcmwgIT09IE1FRElBX0JBU0VfVVJMX01FVEFfVEFHX1BMQUNFSE9MREVSXG4gICAgPyB7IGJhY2tlbmQ6IHsgbWVkaWE6IHsgYmFzZVVybCB9IH0gfVxuICAgIDoge307XG59XG5cbmZ1bmN0aW9uIGdldE1ldGFUYWdDb250ZW50KG5hbWU6IHN0cmluZywgbWV0YTogTWV0YSkge1xuICBjb25zdCBtZXRhVGFnID0gbWV0YS5nZXRUYWcoYG5hbWU9XCIke25hbWV9XCJgKTtcbiAgcmV0dXJuIG1ldGFUYWcgJiYgbWV0YVRhZy5jb250ZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZUNvbmZpZ0Zyb21NZXRhVGFncygpOiBQcm92aWRlcltdIHtcbiAgcmV0dXJuIFtcbiAgICBwcm92aWRlQ29uZmlnRmFjdG9yeShvY2NTZXJ2ZXJDb25maWdGcm9tTWV0YVRhZ0ZhY3RvcnksIFtNZXRhXSksXG4gICAgcHJvdmlkZUNvbmZpZ0ZhY3RvcnkobWVkaWFTZXJ2ZXJDb25maWdGcm9tTWV0YVRhZ0ZhY3RvcnksIFtNZXRhXSksXG4gIF07XG59XG4iXX0=