import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions } from '../../../auth/store/actions/index';
import { loaderReducer } from '../../../state/utils/loader/loader.reducer';
import { REGIONS, USER_ADDRESSES, USER_CONSENTS, USER_ORDERS, USER_PAYMENT_METHODS, CUSTOMER_COUPONS, NOTIFICATION_PREFERENCES, PRODUCT_INTERESTS, USER_RETURN_REQUESTS, USER_ORDER_DETAILS, USER_RETURN_REQUEST_DETAILS, USER_COST_CENTERS, } from '../user-state';
import * as fromBillingCountriesReducer from './billing-countries.reducer';
import * as fromConsignmentTrackingReducer from './consignment-tracking.reducer';
import * as fromDeliveryCountries from './delivery-countries.reducer';
import * as fromNotificationPreferenceReducer from './notification-preference.reducer';
import * as fromOrderDetailsReducer from './order-details.reducer';
import * as fromPaymentReducer from './payment-methods.reducer';
import * as fromRegionsReducer from './regions.reducer';
import * as fromResetPasswordReducer from './reset-password.reducer';
import * as fromTitlesReducer from './titles.reducer';
import * as fromAddressesReducer from './user-addresses.reducer';
import * as fromUserConsentsReducer from './user-consents.reducer';
import * as fromUserDetailsReducer from './user-details.reducer';
import * as fromUserOrdersReducer from './user-orders.reducer';
import * as fromCustomerCouponReducer from './customer-coupon.reducer';
import * as fromInterestsReducer from './product-interests.reducer';
import * as fromOrderReturnRequestReducer from './order-return-request.reducer';
import * as fromCostCenterReducer from './user-cost-center.reducer';
export function getReducers() {
    return {
        account: combineReducers({
            details: fromUserDetailsReducer.reducer,
        }),
        addresses: loaderReducer(USER_ADDRESSES, fromAddressesReducer.reducer),
        billingCountries: fromBillingCountriesReducer.reducer,
        consents: loaderReducer(USER_CONSENTS, fromUserConsentsReducer.reducer),
        payments: loaderReducer(USER_PAYMENT_METHODS, fromPaymentReducer.reducer),
        orders: loaderReducer(USER_ORDERS, fromUserOrdersReducer.reducer),
        order: loaderReducer(USER_ORDER_DETAILS, fromOrderDetailsReducer.reducer),
        orderReturn: loaderReducer(USER_RETURN_REQUEST_DETAILS),
        orderReturnList: loaderReducer(USER_RETURN_REQUESTS, fromOrderReturnRequestReducer.reducer),
        countries: fromDeliveryCountries.reducer,
        titles: fromTitlesReducer.reducer,
        regions: loaderReducer(REGIONS, fromRegionsReducer.reducer),
        resetPassword: fromResetPasswordReducer.reducer,
        consignmentTracking: fromConsignmentTrackingReducer.reducer,
        customerCoupons: loaderReducer(CUSTOMER_COUPONS, fromCustomerCouponReducer.reducer),
        notificationPreferences: loaderReducer(NOTIFICATION_PREFERENCES, fromNotificationPreferenceReducer.reducer),
        productInterests: loaderReducer(PRODUCT_INTERESTS, fromInterestsReducer.reducer),
        costCenters: loaderReducer(USER_COST_CENTERS, fromCostCenterReducer.reducer),
    };
}
export const reducerToken = new InjectionToken('UserReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearUserState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearUserState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jb3JlL3NyYy91c2VyL3N0b3JlL3JlZHVjZXJzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQVksTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUdMLGVBQWUsR0FFaEIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBY2hFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUMzRSxPQUFPLEVBQ0wsT0FBTyxFQUdQLGNBQWMsRUFDZCxhQUFhLEVBQ2IsV0FBVyxFQUNYLG9CQUFvQixFQUNwQixnQkFBZ0IsRUFDaEIsd0JBQXdCLEVBQ3hCLGlCQUFpQixFQUNqQixvQkFBb0IsRUFDcEIsa0JBQWtCLEVBQ2xCLDJCQUEyQixFQUMzQixpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLDJCQUEyQixNQUFNLDZCQUE2QixDQUFDO0FBQzNFLE9BQU8sS0FBSyw4QkFBOEIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNqRixPQUFPLEtBQUsscUJBQXFCLE1BQU0sOEJBQThCLENBQUM7QUFDdEUsT0FBTyxLQUFLLGlDQUFpQyxNQUFNLG1DQUFtQyxDQUFDO0FBQ3ZGLE9BQU8sS0FBSyx1QkFBdUIsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRSxPQUFPLEtBQUssa0JBQWtCLE1BQU0sMkJBQTJCLENBQUM7QUFDaEUsT0FBTyxLQUFLLGtCQUFrQixNQUFNLG1CQUFtQixDQUFDO0FBQ3hELE9BQU8sS0FBSyx3QkFBd0IsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRSxPQUFPLEtBQUssaUJBQWlCLE1BQU0sa0JBQWtCLENBQUM7QUFDdEQsT0FBTyxLQUFLLG9CQUFvQixNQUFNLDBCQUEwQixDQUFDO0FBQ2pFLE9BQU8sS0FBSyx1QkFBdUIsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRSxPQUFPLEtBQUssc0JBQXNCLE1BQU0sd0JBQXdCLENBQUM7QUFDakUsT0FBTyxLQUFLLHFCQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBQy9ELE9BQU8sS0FBSyx5QkFBeUIsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RSxPQUFPLEtBQUssb0JBQW9CLE1BQU0sNkJBQTZCLENBQUM7QUFDcEUsT0FBTyxLQUFLLDZCQUE2QixNQUFNLGdDQUFnQyxDQUFDO0FBQ2hGLE9BQU8sS0FBSyxxQkFBcUIsTUFBTSw0QkFBNEIsQ0FBQztBQUVwRSxNQUFNLFVBQVUsV0FBVztJQUN6QixPQUFPO1FBQ0wsT0FBTyxFQUFFLGVBQWUsQ0FBQztZQUN2QixPQUFPLEVBQUUsc0JBQXNCLENBQUMsT0FBTztTQUN4QyxDQUFDO1FBQ0YsU0FBUyxFQUFFLGFBQWEsQ0FDdEIsY0FBYyxFQUNkLG9CQUFvQixDQUFDLE9BQU8sQ0FDN0I7UUFDRCxnQkFBZ0IsRUFBRSwyQkFBMkIsQ0FBQyxPQUFPO1FBQ3JELFFBQVEsRUFBRSxhQUFhLENBQ3JCLGFBQWEsRUFDYix1QkFBdUIsQ0FBQyxPQUFPLENBQ2hDO1FBQ0QsUUFBUSxFQUFFLGFBQWEsQ0FDckIsb0JBQW9CLEVBQ3BCLGtCQUFrQixDQUFDLE9BQU8sQ0FDM0I7UUFDRCxNQUFNLEVBQUUsYUFBYSxDQUNuQixXQUFXLEVBQ1gscUJBQXFCLENBQUMsT0FBTyxDQUM5QjtRQUNELEtBQUssRUFBRSxhQUFhLENBQ2xCLGtCQUFrQixFQUNsQix1QkFBdUIsQ0FBQyxPQUFPLENBQ2hDO1FBQ0QsV0FBVyxFQUFFLGFBQWEsQ0FBZ0IsMkJBQTJCLENBQUM7UUFDdEUsZUFBZSxFQUFFLGFBQWEsQ0FDNUIsb0JBQW9CLEVBQ3BCLDZCQUE2QixDQUFDLE9BQU8sQ0FDdEM7UUFDRCxTQUFTLEVBQUUscUJBQXFCLENBQUMsT0FBTztRQUN4QyxNQUFNLEVBQUUsaUJBQWlCLENBQUMsT0FBTztRQUNqQyxPQUFPLEVBQUUsYUFBYSxDQUFlLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7UUFDekUsYUFBYSxFQUFFLHdCQUF3QixDQUFDLE9BQU87UUFDL0MsbUJBQW1CLEVBQUUsOEJBQThCLENBQUMsT0FBTztRQUMzRCxlQUFlLEVBQUUsYUFBYSxDQUM1QixnQkFBZ0IsRUFDaEIseUJBQXlCLENBQUMsT0FBTyxDQUNsQztRQUNELHVCQUF1QixFQUFFLGFBQWEsQ0FDcEMsd0JBQXdCLEVBQ3hCLGlDQUFpQyxDQUFDLE9BQU8sQ0FDMUM7UUFDRCxnQkFBZ0IsRUFBRSxhQUFhLENBQzdCLGlCQUFpQixFQUNqQixvQkFBb0IsQ0FBQyxPQUFPLENBQzdCO1FBQ0QsV0FBVyxFQUFFLGFBQWEsQ0FDeEIsaUJBQWlCLEVBQ2pCLHFCQUFxQixDQUFDLE9BQU8sQ0FDOUI7S0FDRixDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FFcEIsSUFBSSxjQUFjLENBQThCLGNBQWMsQ0FBQyxDQUFDO0FBRXJFLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBYTtJQUN2QyxPQUFPLEVBQUUsWUFBWTtJQUNyQixVQUFVLEVBQUUsV0FBVztDQUN4QixDQUFDO0FBRUYsTUFBTSxVQUFVLGNBQWMsQ0FDNUIsT0FBMkI7SUFFM0IsT0FBTyxVQUFVLEtBQUssRUFBRSxNQUFNO1FBQzVCLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLENBQUMsTUFBTSxFQUFFO1lBQ3RDLEtBQUssR0FBRyxTQUFTLENBQUM7U0FDbkI7UUFFRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBdUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuLCBQcm92aWRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgQWN0aW9uUmVkdWNlcixcbiAgQWN0aW9uUmVkdWNlck1hcCxcbiAgY29tYmluZVJlZHVjZXJzLFxuICBNZXRhUmVkdWNlcixcbn0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0IHsgQXV0aEFjdGlvbnMgfSBmcm9tICcuLi8uLi8uLi9hdXRoL3N0b3JlL2FjdGlvbnMvaW5kZXgnO1xuaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2FkZHJlc3MubW9kZWwnO1xuaW1wb3J0IHsgUGF5bWVudERldGFpbHMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jYXJ0Lm1vZGVsJztcbmltcG9ydCB7IENvbnNlbnRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2NvbnNlbnQubW9kZWwnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uUHJlZmVyZW5jZSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL25vdGlmaWNhdGlvbi1wcmVmZXJlbmNlLm1vZGVsJztcbmltcG9ydCB7IEN1c3RvbWVyQ291cG9uU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvY3VzdG9tZXItY291cG9uLm1vZGVsJztcbmltcG9ydCB7IFByb2R1Y3RJbnRlcmVzdFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL3Byb2R1Y3QtaW50ZXJlc3QubW9kZWwnO1xuaW1wb3J0IHtcbiAgT3JkZXJIaXN0b3J5TGlzdCxcbiAgUmV0dXJuUmVxdWVzdExpc3QsXG4gIFJldHVyblJlcXVlc3QsXG4gIE9yZGVyLFxufSBmcm9tICcuLi8uLi8uLi9tb2RlbC9vcmRlci5tb2RlbCc7XG5pbXBvcnQgeyBDb3N0Q2VudGVyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvb3JnLXVuaXQubW9kZWwnO1xuaW1wb3J0IHsgbG9hZGVyUmVkdWNlciB9IGZyb20gJy4uLy4uLy4uL3N0YXRlL3V0aWxzL2xvYWRlci9sb2FkZXIucmVkdWNlcic7XG5pbXBvcnQge1xuICBSRUdJT05TLFxuICBSZWdpb25zU3RhdGUsXG4gIFVzZXJTdGF0ZSxcbiAgVVNFUl9BRERSRVNTRVMsXG4gIFVTRVJfQ09OU0VOVFMsXG4gIFVTRVJfT1JERVJTLFxuICBVU0VSX1BBWU1FTlRfTUVUSE9EUyxcbiAgQ1VTVE9NRVJfQ09VUE9OUyxcbiAgTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VTLFxuICBQUk9EVUNUX0lOVEVSRVNUUyxcbiAgVVNFUl9SRVRVUk5fUkVRVUVTVFMsXG4gIFVTRVJfT1JERVJfREVUQUlMUyxcbiAgVVNFUl9SRVRVUk5fUkVRVUVTVF9ERVRBSUxTLFxuICBVU0VSX0NPU1RfQ0VOVEVSUyxcbn0gZnJvbSAnLi4vdXNlci1zdGF0ZSc7XG5pbXBvcnQgKiBhcyBmcm9tQmlsbGluZ0NvdW50cmllc1JlZHVjZXIgZnJvbSAnLi9iaWxsaW5nLWNvdW50cmllcy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21Db25zaWdubWVudFRyYWNraW5nUmVkdWNlciBmcm9tICcuL2NvbnNpZ25tZW50LXRyYWNraW5nLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbURlbGl2ZXJ5Q291bnRyaWVzIGZyb20gJy4vZGVsaXZlcnktY291bnRyaWVzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbU5vdGlmaWNhdGlvblByZWZlcmVuY2VSZWR1Y2VyIGZyb20gJy4vbm90aWZpY2F0aW9uLXByZWZlcmVuY2UucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tT3JkZXJEZXRhaWxzUmVkdWNlciBmcm9tICcuL29yZGVyLWRldGFpbHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUGF5bWVudFJlZHVjZXIgZnJvbSAnLi9wYXltZW50LW1ldGhvZHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUmVnaW9uc1JlZHVjZXIgZnJvbSAnLi9yZWdpb25zLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVJlc2V0UGFzc3dvcmRSZWR1Y2VyIGZyb20gJy4vcmVzZXQtcGFzc3dvcmQucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVGl0bGVzUmVkdWNlciBmcm9tICcuL3RpdGxlcy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21BZGRyZXNzZXNSZWR1Y2VyIGZyb20gJy4vdXNlci1hZGRyZXNzZXMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVXNlckNvbnNlbnRzUmVkdWNlciBmcm9tICcuL3VzZXItY29uc2VudHMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tVXNlckRldGFpbHNSZWR1Y2VyIGZyb20gJy4vdXNlci1kZXRhaWxzLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbVVzZXJPcmRlcnNSZWR1Y2VyIGZyb20gJy4vdXNlci1vcmRlcnMucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQ3VzdG9tZXJDb3Vwb25SZWR1Y2VyIGZyb20gJy4vY3VzdG9tZXItY291cG9uLnJlZHVjZXInO1xuaW1wb3J0ICogYXMgZnJvbUludGVyZXN0c1JlZHVjZXIgZnJvbSAnLi9wcm9kdWN0LWludGVyZXN0cy5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21PcmRlclJldHVyblJlcXVlc3RSZWR1Y2VyIGZyb20gJy4vb3JkZXItcmV0dXJuLXJlcXVlc3QucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tQ29zdENlbnRlclJlZHVjZXIgZnJvbSAnLi91c2VyLWNvc3QtY2VudGVyLnJlZHVjZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkdWNlcnMoKTogQWN0aW9uUmVkdWNlck1hcDxVc2VyU3RhdGU+IHtcbiAgcmV0dXJuIHtcbiAgICBhY2NvdW50OiBjb21iaW5lUmVkdWNlcnMoe1xuICAgICAgZGV0YWlsczogZnJvbVVzZXJEZXRhaWxzUmVkdWNlci5yZWR1Y2VyLFxuICAgIH0pLFxuICAgIGFkZHJlc3NlczogbG9hZGVyUmVkdWNlcjxBZGRyZXNzW10+KFxuICAgICAgVVNFUl9BRERSRVNTRVMsXG4gICAgICBmcm9tQWRkcmVzc2VzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBiaWxsaW5nQ291bnRyaWVzOiBmcm9tQmlsbGluZ0NvdW50cmllc1JlZHVjZXIucmVkdWNlcixcbiAgICBjb25zZW50czogbG9hZGVyUmVkdWNlcjxDb25zZW50VGVtcGxhdGVbXT4oXG4gICAgICBVU0VSX0NPTlNFTlRTLFxuICAgICAgZnJvbVVzZXJDb25zZW50c1JlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgcGF5bWVudHM6IGxvYWRlclJlZHVjZXI8UGF5bWVudERldGFpbHNbXT4oXG4gICAgICBVU0VSX1BBWU1FTlRfTUVUSE9EUyxcbiAgICAgIGZyb21QYXltZW50UmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBvcmRlcnM6IGxvYWRlclJlZHVjZXI8T3JkZXJIaXN0b3J5TGlzdD4oXG4gICAgICBVU0VSX09SREVSUyxcbiAgICAgIGZyb21Vc2VyT3JkZXJzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBvcmRlcjogbG9hZGVyUmVkdWNlcjxPcmRlcj4oXG4gICAgICBVU0VSX09SREVSX0RFVEFJTFMsXG4gICAgICBmcm9tT3JkZXJEZXRhaWxzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBvcmRlclJldHVybjogbG9hZGVyUmVkdWNlcjxSZXR1cm5SZXF1ZXN0PihVU0VSX1JFVFVSTl9SRVFVRVNUX0RFVEFJTFMpLFxuICAgIG9yZGVyUmV0dXJuTGlzdDogbG9hZGVyUmVkdWNlcjxSZXR1cm5SZXF1ZXN0TGlzdD4oXG4gICAgICBVU0VSX1JFVFVSTl9SRVFVRVNUUyxcbiAgICAgIGZyb21PcmRlclJldHVyblJlcXVlc3RSZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIGNvdW50cmllczogZnJvbURlbGl2ZXJ5Q291bnRyaWVzLnJlZHVjZXIsXG4gICAgdGl0bGVzOiBmcm9tVGl0bGVzUmVkdWNlci5yZWR1Y2VyLFxuICAgIHJlZ2lvbnM6IGxvYWRlclJlZHVjZXI8UmVnaW9uc1N0YXRlPihSRUdJT05TLCBmcm9tUmVnaW9uc1JlZHVjZXIucmVkdWNlciksXG4gICAgcmVzZXRQYXNzd29yZDogZnJvbVJlc2V0UGFzc3dvcmRSZWR1Y2VyLnJlZHVjZXIsXG4gICAgY29uc2lnbm1lbnRUcmFja2luZzogZnJvbUNvbnNpZ25tZW50VHJhY2tpbmdSZWR1Y2VyLnJlZHVjZXIsXG4gICAgY3VzdG9tZXJDb3Vwb25zOiBsb2FkZXJSZWR1Y2VyPEN1c3RvbWVyQ291cG9uU2VhcmNoUmVzdWx0PihcbiAgICAgIENVU1RPTUVSX0NPVVBPTlMsXG4gICAgICBmcm9tQ3VzdG9tZXJDb3Vwb25SZWR1Y2VyLnJlZHVjZXJcbiAgICApLFxuICAgIG5vdGlmaWNhdGlvblByZWZlcmVuY2VzOiBsb2FkZXJSZWR1Y2VyPE5vdGlmaWNhdGlvblByZWZlcmVuY2VbXT4oXG4gICAgICBOT1RJRklDQVRJT05fUFJFRkVSRU5DRVMsXG4gICAgICBmcm9tTm90aWZpY2F0aW9uUHJlZmVyZW5jZVJlZHVjZXIucmVkdWNlclxuICAgICksXG4gICAgcHJvZHVjdEludGVyZXN0czogbG9hZGVyUmVkdWNlcjxQcm9kdWN0SW50ZXJlc3RTZWFyY2hSZXN1bHQ+KFxuICAgICAgUFJPRFVDVF9JTlRFUkVTVFMsXG4gICAgICBmcm9tSW50ZXJlc3RzUmVkdWNlci5yZWR1Y2VyXG4gICAgKSxcbiAgICBjb3N0Q2VudGVyczogbG9hZGVyUmVkdWNlcjxDb3N0Q2VudGVyW10+KFxuICAgICAgVVNFUl9DT1NUX0NFTlRFUlMsXG4gICAgICBmcm9tQ29zdENlbnRlclJlZHVjZXIucmVkdWNlclxuICAgICksXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyVG9rZW46IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8XG4gIFVzZXJTdGF0ZVxuPj4gPSBuZXcgSW5qZWN0aW9uVG9rZW48QWN0aW9uUmVkdWNlck1hcDxVc2VyU3RhdGU+PignVXNlclJlZHVjZXJzJyk7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyUHJvdmlkZXI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiByZWR1Y2VyVG9rZW4sXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlclN0YXRlKFxuICByZWR1Y2VyOiBBY3Rpb25SZWR1Y2VyPGFueT5cbik6IEFjdGlvblJlZHVjZXI8YW55PiB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQXV0aEFjdGlvbnMuTE9HT1VUKSB7XG4gICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW2NsZWFyVXNlclN0YXRlXTtcbiJdfQ==